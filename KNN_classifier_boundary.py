import numpy as np
import matplotlib.pyplot as plt
from sklearn.neighbors import KNeighborsClassifier
from matplotlib.colors import ListedColormap

X = np.array([[5.34097649,  0.68973324],
     [3.93805214,  0.47424498],
     [1.58462926,  1.15870935],
     [3.49671415,  1.7234714],
     [2.15320628, -1.02969445],
     [6.15732928, -0.86726519],
     [2.55348505,  3.71279759],
     [3.09965137,  0.99304869],
     [5.48755987,  0.85294262],
     [4.47789404,  0.96345956],
     [3.81351722, -0.46172863],
     [3.00511346,  1.53082573],
     [3.29612028,  2.52211054],
     [2.11048557,  0.36837943],
     [1.84900642,  2.75139604],
     [4.59088966,  3.09238728],
     [2.53936123,  4.11424445],
     [5.7255718,  1.95927083],
     [5.72063664, -0.43586215],
     [3.73846658,  2.34273656],
     [2.39829339,  5.70455637],
     [4.86577451,  2.94766584],
     [5.25752384,  4.85273149],
     [2.83871429,  2.80810171],
     [5.17889368,  1.56078453],
     [2.31997528,  2.46450739],
     [4.57921282,  3.53486946],
     [5.02278592,  0.34839965],
     [5.31205991,  1.62834551],
     [4.14343274,  2.35387237],
     [3.24196227, -1.82656049],
     [2.21674671,  1.35587697],
     [2.75461188,  0.49252767],
     [5.25249364,  1.86575519],
     [4.8911594,  2.09877685],
     [5.12248329,  0.49305682],
     [5.41270817,  1.81350964],
     [1.9291075,  2.96494483],
     [4.94273008,  2.23781631],
     [3.0675282, -0.84949637],
     [4.66910677,  1.85243333],
     [4.31116532,  0.06217496],
     [3.36139561,  5.07607313],
     [2.80763904,  2.60309468],
     [1.44933657,  2.13712595],
     [3.64768854,  5.04605971],
     [4.60373963,  0.88526356],
     [4.49699131, -0.21418861],
     [2.1915064,  0.99648591],
     [5.28544526,  2.13556564],
     [4.87371592, -0.24778318],
     [4.27595783, -0.40746377],
     [3.82254491, -0.4416873],
     [3.08704707,  1.4019853],
     [5.81620565, -0.43014138],
     [4.8861859,  2.34915563],
     [5.6527394,  1.02100384],
     [5.63345557,  0.29233053],
     [3.36163603,  0.70976049],
     [2.16078248,  1.38157525],
     [4.64234815,  1.67959775],
     [5.3736468,  1.61037027],
     [1.89366503, -0.39241325],
     [5.03790228,  0.32283829],
     [4.24031502,  0.51576593],
     [5.42882981,  0.84006147],
     [3.81252582,  4.71248006],
     [6.06651669, -0.9520878],
     [5.20646573,  0.43627545],
     [5.17850774,  0.3070904],
     [3.33126343,  3.95109025],
     [3.05820872, -0.2859406],
     [3.96337613,  2.82556185],
     [1.8086965,  3.31310722],
     [4.63481668,  1.21645859],
     [5.44979994,  1.30729952],
     [5.17087799,  2.87617084],
     [3.25988279,  3.56364574],
     [3.29307247,  0.57129716],
     [3.32408397,  1.22983544],
     [4.99387661,  0.10274563],
     [4.15859558,  0.35863536],
     [5.43616032,  1.18334201],
     [4.64077789,  0.78655285],
     [4.58013908,  0.40060735],
     [3.09176078, -1.97513783],
     [2.96528823, -0.33735608],
     [5.05675867,  1.66213067],
     [3.01300189,  4.90706815],
     [3.22745993,  4.61428551],
     [3.2766908,  3.6543665],
     [2.96417396,  5.12928731],
     [2.88435172,  1.39779261],
     [2.09197592, -0.8246074],
     [5.25751763,  1.51378595],
     [2.08057577,  5.09986881],
     [4.62043367,  1.15039379],
     [6.07197204,  1.63391902],
     [2.60789185, -0.9270299],
     [4.76448085,  1.23204994]])

label = [1, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 0, 0, 0, 1, 0, 1,
 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 1, 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 1,
 1, 1, 0, 0, 1, 0, 1, 1, 0, 0, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0, 0, 0, 1,
 1, 1, 0, 0, 0, 1, 0, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 0, 1]

model = KNeighborsClassifier(n_neighbors=1)
model.fit(X, label)

xval, yval = np.meshgrid(np.arange(-10, 10, 0.05), np.arange(-10, 10, 0.05))

Z = model.predict(np.c_[xval.ravel(), yval.ravel()])

# Put the result into a color plot

# Create color maps
cmap_light = ListedColormap(['cornflowerblue', 'orange'])

Z = Z.reshape(xval.shape)

plt.figure(figsize=(7, 7))
plt.contourf(xval, yval, Z, cmap=cmap_light)

#fig, ax = plt.subplots()
#im = ax.imshow(Z, origin='lower', extent=[-10, 10, -10, 10])

plt.axis('Equal')

# Plot also the training points
plt.scatter(X[:, 0], X[:, 1], c=label, edgecolors='k')

plt.show()
